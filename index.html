<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Chat Bucin ðŸ’Œ</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #ffe6f2;
        font-family: "Poppins", sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    .chat-container {
        width: 90%;
        max-width: 450px;
        background: white;
        padding: 20px;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(255, 80, 125, .3);
    }

    #chat {
        height: 300px;
        overflow-y: auto;
        border-radius: 15px;
        padding: 10px;
        background: #fff3fa;
        margin-bottom: 15px;
    }

    .bubble {
        max-width: 75%;
        padding: 10px 14px;
        border-radius: 15px;
        margin: 6px 0;
        animation: pop .3s ease;
    }

    .me {
        background: #ffb6d6;
        margin-left: auto;
    }

    .bot {
        background: #ffd9e8;
        margin-right: auto;
    }

    @keyframes pop {
        from { transform: scale(.7); opacity: 0; }
        to { transform: scale(1); opacity: 1; }
    }

    input {
        width: 100%;
        padding: 12px;
        border-radius: 12px;
        border: 2px solid #ff9fc7;
        outline: none;
    }

    button {
        width: 100%;
        padding: 12px;
        border: none;
        background: #ff5f9e;
        color: white;
        margin-top: 10px;
        font-size: 16px;
        border-radius: 12px;
        cursor: pointer;
        box-shadow: 0 5px 15px rgba(255, 92, 143, 0.5);
    }

    button:hover {
        transform: scale(1.05);
    }
</style>
</head>

<body>

<div class="chat-container">
    <div id="chat"></div>

    <input type="text" id="inputMsg" placeholder="Tulis pesanmu..." />
    <button onclick="sendMessage()">Kirim ðŸ’—</button>
</div>

<script>
// daftar balasan lebih santai & manja
const replies = {
    "hai": "haii sayang, kangen ga sama aku? ðŸ˜šðŸ’•",
    "kamu": "aku tuh kepikiran kamu terus tauu ðŸ˜³ðŸ’—",
    "love": "love you moree beb ðŸ˜˜ðŸ’ž",
    "rindu": "aku juga rinduu parah sama kamu ðŸ˜­ðŸ’•",
    "sayang": "iya sayang? sini aku peluk ðŸ˜šðŸ’—",
    "aku sayang kamu": "aku lebih sayang kamuuu! ga ada obat ðŸ˜¤ðŸ’—",
    "beb": "iya beb? sini sini aku peluk ðŸ˜˜ðŸ’•",
    "lagi apa": "lagi mikirin kamu lahh, kerjaannya itu mulu ðŸ˜ŒðŸ’—",
    "miss u": "miss u moreee, sumpah ðŸ˜©ðŸ’ž",
    "mwah": "mwahh balik 100x ðŸ˜˜ðŸ’•",
};

// fallback random reply
const randomReplies = [
    "I don't know what to answer but you are so cute hehe :3ðŸ˜˜âœ¨",
];

// typing indicator
function showTyping() {
    const chat = document.getElementById("chat");
    const bubble = document.createElement("div");
    bubble.classList.add("bubble", "bot");
    bubble.setAttribute("id", "typing");
    bubble.innerHTML = "â€¢â€¢â€¢";
    chat.appendChild(bubble);
    chat.scrollTop = chat.scrollHeight;
}

function removeTyping() {
    const typing = document.getElementById("typing");
    if (typing) typing.remove();
}

function autoReply(msg) {
    msg = msg.toLowerCase();

    for (let key in replies) {
        if (msg.includes(key)) {
            return replies[key];
        }
    }

    return randomReplies[Math.floor(Math.random() * randomReplies.length)];
}

function sendMessage() {
    const msg = document.getElementById("inputMsg").value;
    if (msg.trim() === "") return;

    addBubble(msg, "me");
    document.getElementById("inputMsg").value = "";

    // muncul typing...
    setTimeout(showTyping, 400);

    // bot balas
    setTimeout(() => {
        removeTyping();
        addBubble(autoReply(msg), "bot");
    }, 1300);
}

function addBubble(text, type) {
    const chat = document.getElementById("chat");
    const bubble = document.createElement("div");
    bubble.classList.add("bubble", type);
    bubble.innerHTML = text;
    chat.appendChild(bubble);

    chat.scrollTop = chat.scrollHeight;
}
</script>

</body>
</html>
